@page "/Checkout"
@inherits CheckoutBase

<h3 class="mb-5">Checkout</h3>
@if (!string.IsNullOrWhiteSpace(ErrorMessage))
{
    <DisplayError ErrorMessage="ErrorMessage" />    
}
<div class="row mb-5">
    @Message
</div>
<div class="row mb-5">
    <div class="col-md-9">
        @foreach (var item in StateContainerService.CartItems)
        {
            <div class="row mb-4">
                <div class="col-md-4">
                    <img src="@item.ProductImageURL" width="300" class="img-thumbnail">
                </div>
                <div class="col-md-8">
                    <h5>@item.ProductName</h5>
                    <div class="mb-4">@item.ProductDescription</div>
                    <span>
                        Price: <b>@item.Price.ToString("C")</b>&nbsp;
                        Quantity: @item.Qty
                    </span>
                </div>
            </div>
        }
    </div>
    <div class="col-md-3">
        <h5>Summary</h5>
        <div class="mt-2">
            <div>Total - (@StateContainerService.TotalQuantity items)&nbsp;<b>@StateContainerService.TotalPrice.ToString("C")</b></div>
            <button class="btn btn-success" @onclick="PostPurchaseTran">
                Confirm
            </button>
        </div>
    </div>
</div>